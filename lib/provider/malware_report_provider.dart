import 'package:flutter/material.dart';
import '../models/malware_report_model.dart';
import '../screens/malware/malware_report_service.dart';

class MalwareReportProvider with ChangeNotifier {
  List<MalwareReportModel> _reports = [];

  List<MalwareReportModel> get reports => _reports;

  Future<void> loadReports() async {
    // Load all local reports
    _reports = MalwareReportService.getLocalReports();
    notifyListeners();
  }

  Future<void> addReport(MalwareReportModel report) async {
    await MalwareReportService.saveReport(report);
    await loadReports();
  }

  Future<void> sync() async {
    await MalwareReportService.syncReports();
    await loadReports();
  }
}
